(()=>{"use strict";const e=window.React,t=window.wp.blocks,s=window.wp.blockEditor,n=window.wp.components,o=window.wp.element,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"irecommendthis/recommend","version":"4.0.0","title":"I Recommend This","category":"widgets","icon":"thumbs-up","description":"Block to add recommend link.","supports":{"html":false},"attributes":{"postId":{"type":"number","default":null},"alignText":{"type":"string","default":"left"},"useCurrentPost":{"type":"boolean","default":true}},"textdomain":"i-recommend-this","editorScript":"file:./index.js"}');(0,t.registerBlockType)(l,{edit({attributes:t,setAttributes:l}){const{postId:r,alignText:i,useCurrentPost:a}=t,c=(0,s.useBlockProps)({className:`has-text-align-${i}`});return(0,o.useEffect)((()=>{a&&null==r&&l({postId:wp.data.select("core/editor").getCurrentPostId()})}),[]),(0,e.createElement)("div",{...c},(0,e.createElement)(s.BlockControls,null,(0,e.createElement)(s.AlignmentToolbar,{value:i,onChange:e=>l({alignText:e})})),(0,e.createElement)(s.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Settings"},(0,e.createElement)(n.ToggleControl,{label:"Use current post in query loops",checked:a,onChange:()=>{l({useCurrentPost:!a,postId:a?r:null})},help:a?"In query loops, the plugin will use each post's ID automatically.":"Using a specific post ID for all instances."}),!a&&(0,e.createElement)(n.TextControl,{label:"Specific Post ID",value:null==r?"":r,onChange:e=>{const t=""===e?null:parseInt(e,10);l({postId:t})}}))),(0,e.createElement)("div",{className:"recommend-preview"},a?'[irecommendthis use_current_post="true"]':`[irecommendthis id="${r}"]`))},save({attributes:t}){const{postId:n,alignText:o,useCurrentPost:l}=t,r=s.useBlockProps.save({className:`has-text-align-${o}`});return(0,e.createElement)("div",{...r},l?'[irecommendthis use_current_post="true"]':`[irecommendthis id="${n}"]`)}})})();